---
title: "Map Set WeakMap WeakSet"
description: "Map, Set, WeakMap, and WeakSet collections are built-in data structures in JavaScript designed for storing unique values and keyâ€“value pairs. They resolve the l"
---

> Map, Set, WeakMap, and WeakSet collections are built-in data structures in JavaScript designed for storing unique values and keyâ€“value pairs. They resolve the limitations of plain objects and arrays.

---

### ğŸ§© Map

- Stores data as **keyâ€“value pairs**.
- Keys can be of **any type** (including objects and functions).
- Preserves element insertion order.

```jsx
const map = new Map();
map.set('name', 'Alex');
map.set({ id: 1 }, 'Object key');
console.log(map.get('name')); // 'Alex'

```

ğŸ“˜ Methods: `set()`, `get()`, `has()`, `delete()`, `clear()`, `size`.
ğŸ“˜ Iterates via `for...of`, `map.entries()`, `map.keys()`, `map.values()`.

---

### ğŸ§© Set

- Stores **unique values of any type**.
- When adding a value again â€” ignores duplicates.
- Preserves insertion order.

```jsx
const set = new Set([1, 2, 2, 3]);
console.log(set.size); // 3
```

ğŸ“˜ Methods: `add()`, `has()`, `delete()`, `clear()`.
ğŸ“˜ Often used to remove duplicates from an array:

```jsx
const unique = [...new Set(array)];
```

---

### ğŸ§© WeakMap

- Keys can **only be objects**.
- Stores **weak references** â€” if an object becomes unreachable, the entry is automatically removed by the GC.
- **Not iterable** (cannot get a list of keys or values).

```jsx
let obj = {};
const weakMap = new WeakMap();
weakMap.set(obj, 'data');
obj = null; // entry will be removed by the garbage collector
```

ğŸ“˜ Used for storing **private data or caches** without interfering with garbage collection.

---

### ğŸ§© WeakSet

- Stores **only objects**, analogous to `WeakMap` but without keyâ€“value pairs.
- Not iterable, does not have `size`.
- An element is removed if there are no other references to it.

```jsx
let user = { name: 'John' };
const weakSet = new WeakSet();
weakSet.add(user);
user = null; // will be removed by GC

```

---

### âš–ï¸ Comparison

| Feature | **Map** | **Set** | **WeakMap** | **WeakSet** |
| --- | --- | --- | --- | --- |
| Storage Type | Keyâ€“Value | Unique Values | Keyâ€“Value (objects) | Unique Objects |
| Keys | Any type | â€” | Only objects | Only objects |
| Weak References | âŒ No | âŒ No | âœ… Yes | âœ… Yes |
| Iterability | âœ… Yes | âœ… Yes | âŒ No | âŒ No |
| Removed by GC | âŒ No | âŒ No | âœ… Yes | âœ… Yes |

---

### ğŸ’¡ Key Ideas

- `Map` and `Set` are **general-purpose iterable collections**.
- `WeakMap` and `WeakSet` are **non-guaranteed collections** with **weak references** that prevent memory leaks.
- Use `Map` instead of plain objects if you need **keys of any type**.
- Use `WeakMap` / `WeakSet` for **temporary, private, or cached data**.
